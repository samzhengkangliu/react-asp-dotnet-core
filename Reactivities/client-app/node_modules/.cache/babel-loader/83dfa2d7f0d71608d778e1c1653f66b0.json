{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:5000/api\";\naxios.interceptors.response.use(undefined, error => {\n  if (error.response.status === 404) {\n    throw error.response;\n  }\n});\n\nconst responseBody = response => response.data; // Add delay and carrying\n// carrying is a process where we can transform a function with multiple arguments into a sequence of nesting functions\n\n\nconst sleep = ms => response => new Promise(resolve => setTimeout(() => resolve(response), ms));\n\nconst requests = {\n  get: url => axios.get(url).then(sleep(1000)).then(responseBody),\n  post: (url, body) => axios.post(url, body).then(sleep(1000)).then(responseBody),\n  put: (url, body) => axios.put(url, body).then(sleep(1000)).then(responseBody),\n  delete: url => axios.delete(url).then(sleep(1000)).then(responseBody)\n};\nconst Activities = {\n  list: () => requests.get(\"/activities\"),\n  details: id => requests.get(`/activities/${id}`),\n  create: activity => requests.post(\"/activities\", activity),\n  update: activity => requests.put(`/activities/${activity.id}`, activity),\n  delete: id => requests.delete(`/activities/${id}`)\n};\nexport default {\n  Activities\n};","map":{"version":3,"sources":["/Users/xz214ue/Documents/Tutorial/react-asp-dotnet-core/Reactivities-frontend/src/app/api/agent.ts"],"names":["axios","defaults","baseURL","interceptors","response","use","undefined","error","status","responseBody","data","sleep","ms","Promise","resolve","setTimeout","requests","get","url","then","post","body","put","delete","Activities","list","details","id","create","activity","update"],"mappings":"AAAA,OAAOA,KAAP,MAAqC,OAArC;AAGAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,2BAAzB;AAEAF,KAAK,CAACG,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCC,SAAhC,EAA2CC,KAAK,IAAI;AAClD,MAAIA,KAAK,CAACH,QAAN,CAAeI,MAAf,KAA0B,GAA9B,EAAmC;AACjC,UAAMD,KAAK,CAACH,QAAZ;AACD;AACF,CAJD;;AAMA,MAAMK,YAAY,GAAIL,QAAD,IAA6BA,QAAQ,CAACM,IAA3D,C,CAEA;AACA;;;AACA,MAAMC,KAAK,GAAIC,EAAD,IAAiBR,QAAD,IAC5B,IAAIS,OAAJ,CAA4BC,OAAD,IACzBC,UAAU,CAAC,MAAMD,OAAO,CAACV,QAAD,CAAd,EAA0BQ,EAA1B,CADZ,CADF;;AAKA,MAAMI,QAAQ,GAAG;AACfC,EAAAA,GAAG,EAAGC,GAAD,IAAiBlB,KAAK,CAACiB,GAAN,CAAUC,GAAV,EAAeC,IAAf,CAAoBR,KAAK,CAAC,IAAD,CAAzB,EAAiCQ,IAAjC,CAAsCV,YAAtC,CADP;AAEfW,EAAAA,IAAI,EAAE,CAACF,GAAD,EAAcG,IAAd,KAA2BrB,KAAK,CAACoB,IAAN,CAAWF,GAAX,EAAgBG,IAAhB,EAAsBF,IAAtB,CAA2BR,KAAK,CAAC,IAAD,CAAhC,EAAwCQ,IAAxC,CAA6CV,YAA7C,CAFlB;AAGfa,EAAAA,GAAG,EAAE,CAACJ,GAAD,EAAcG,IAAd,KAA2BrB,KAAK,CAACsB,GAAN,CAAUJ,GAAV,EAAeG,IAAf,EAAqBF,IAArB,CAA0BR,KAAK,CAAC,IAAD,CAA/B,EAAuCQ,IAAvC,CAA4CV,YAA5C,CAHjB;AAIfc,EAAAA,MAAM,EAAGL,GAAD,IAAiBlB,KAAK,CAACuB,MAAN,CAAaL,GAAb,EAAkBC,IAAlB,CAAuBR,KAAK,CAAC,IAAD,CAA5B,EAAoCQ,IAApC,CAAyCV,YAAzC;AAJV,CAAjB;AAOA,MAAMe,UAAU,GAAG;AACjBC,EAAAA,IAAI,EAAE,MAA4BT,QAAQ,CAACC,GAAT,CAAa,aAAb,CADjB;AAEjBS,EAAAA,OAAO,EAAGC,EAAD,IAAgBX,QAAQ,CAACC,GAAT,CAAc,eAAcU,EAAG,EAA/B,CAFR;AAGjBC,EAAAA,MAAM,EAAGC,QAAD,IAAyBb,QAAQ,CAACI,IAAT,CAAc,aAAd,EAA6BS,QAA7B,CAHhB;AAIjBC,EAAAA,MAAM,EAAGD,QAAD,IACNb,QAAQ,CAACM,GAAT,CAAc,eAAcO,QAAQ,CAACF,EAAG,EAAxC,EAA2CE,QAA3C,CALe;AAMjBN,EAAAA,MAAM,EAAGI,EAAD,IAAgBX,QAAQ,CAACO,MAAT,CAAiB,eAAcI,EAAG,EAAlC;AANP,CAAnB;AASA,eAAe;AACbH,EAAAA;AADa,CAAf","sourcesContent":["import axios, { AxiosResponse } from \"axios\";\nimport { IActivity } from \"../models/activity\";\n\naxios.defaults.baseURL = \"http://localhost:5000/api\";\n\naxios.interceptors.response.use(undefined, error => {\n  if (error.response.status === 404) {\n    throw error.response;\n  }\n})\n\nconst responseBody = (response: AxiosResponse) => response.data;\n\n// Add delay and carrying\n// carrying is a process where we can transform a function with multiple arguments into a sequence of nesting functions\nconst sleep = (ms: number) => (response: AxiosResponse) =>\n  new Promise<AxiosResponse>((resolve) =>\n    setTimeout(() => resolve(response), ms)\n  );\n\nconst requests = {\n  get: (url: string) => axios.get(url).then(sleep(1000)).then(responseBody),\n  post: (url: string, body: {}) => axios.post(url, body).then(sleep(1000)).then(responseBody),\n  put: (url: string, body: {}) => axios.put(url, body).then(sleep(1000)).then(responseBody),\n  delete: (url: string) => axios.delete(url).then(sleep(1000)).then(responseBody),\n};\n\nconst Activities = {\n  list: (): Promise<IActivity[]> => requests.get(\"/activities\"),\n  details: (id: string) => requests.get(`/activities/${id}`),\n  create: (activity: IActivity) => requests.post(\"/activities\", activity),\n  update: (activity: IActivity) =>\n    requests.put(`/activities/${activity.id}`, activity),\n  delete: (id: string) => requests.delete(`/activities/${id}`),\n};\n\nexport default {\n  Activities,\n};\n"]},"metadata":{},"sourceType":"module"}